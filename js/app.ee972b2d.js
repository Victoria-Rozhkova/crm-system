(function(e){function t(t){for(var o,c,i=t[0],l=t[1],s=t[2],d=0,u=[];d<i.length;d++)c=i[d],Object.prototype.hasOwnProperty.call(n,c)&&n[c]&&u.push(n[c][0]),n[c]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o]);m&&m(t);while(u.length)u.shift()();return a.push.apply(a,s||[]),r()}function r(){for(var e,t=0;t<a.length;t++){for(var r=a[t],o=!0,c=1;c<r.length;c++){var i=r[c];0!==n[i]&&(o=!1)}o&&(a.splice(t--,1),e=l(l.s=r[0]))}return e}var o={},c={app:0},n={app:0},a=[];function i(e){return l.p+"js/"+({"categories~login~profile~record~register":"categories~login~profile~record~register",categories:"categories",login:"login",profile:"profile",record:"record",register:"register",history:"history",planning:"planning"}[e]||e)+"."+{"categories~login~profile~record~register":"ffd60773",categories:"7105c684",login:"5ba4dcb8",profile:"439c4767",record:"d9a8bca1",register:"f2a2b870",history:"9e705a64",planning:"101cf00c"}[e]+".js"}function l(t){if(o[t])return o[t].exports;var r=o[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,l),r.l=!0,r.exports}l.e=function(e){var t=[],r={profile:1};c[e]?t.push(c[e]):0!==c[e]&&r[e]&&t.push(c[e]=new Promise((function(t,r){for(var o="css/"+({"categories~login~profile~record~register":"categories~login~profile~record~register",categories:"categories",login:"login",profile:"profile",record:"record",register:"register",history:"history",planning:"planning"}[e]||e)+"."+{"categories~login~profile~record~register":"31d6cfe0",categories:"31d6cfe0",login:"31d6cfe0",profile:"a62efc07",record:"31d6cfe0",register:"31d6cfe0",history:"31d6cfe0",planning:"31d6cfe0"}[e]+".css",n=l.p+o,a=document.getElementsByTagName("link"),i=0;i<a.length;i++){var s=a[i],d=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(d===o||d===n))return t()}var u=document.getElementsByTagName("style");for(i=0;i<u.length;i++){s=u[i],d=s.getAttribute("data-href");if(d===o||d===n)return t()}var m=document.createElement("link");m.rel="stylesheet",m.type="text/css",m.onload=t,m.onerror=function(t){var o=t&&t.target&&t.target.src||n,a=new Error("Loading CSS chunk "+e+" failed.\n("+o+")");a.code="CSS_CHUNK_LOAD_FAILED",a.request=o,delete c[e],m.parentNode.removeChild(m),r(a)},m.href=n;var p=document.getElementsByTagName("head")[0];p.appendChild(m)})).then((function(){c[e]=0})));var o=n[e];if(0!==o)if(o)t.push(o[2]);else{var a=new Promise((function(t,r){o=n[e]=[t,r]}));t.push(o[2]=a);var s,d=document.createElement("script");d.charset="utf-8",d.timeout=120,l.nc&&d.setAttribute("nonce",l.nc),d.src=i(e);var u=new Error;s=function(t){d.onerror=d.onload=null,clearTimeout(m);var r=n[e];if(0!==r){if(r){var o=t&&("load"===t.type?"missing":t.type),c=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+o+": "+c+")",u.name="ChunkLoadError",u.type=o,u.request=c,r[1](u)}n[e]=void 0}};var m=setTimeout((function(){s({type:"timeout",target:d})}),12e4);d.onerror=d.onload=s,document.head.appendChild(d)}return Promise.all(t)},l.m=e,l.c=o,l.d=function(e,t,r){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(l.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)l.d(r,o,function(t){return e[t]}.bind(null,o));return r},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/crm-system/",l.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],d=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var m=d;a.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},3836:function(e,t,r){},"3f9b":function(e,t,r){"use strict";function o(e,t="rub"){return new Intl.NumberFormat("ru-RU",{style:"currency",currency:t}).format(e)}r.d(t,"a",(function(){return o}))},"4c98":function(e,t,r){"use strict";r("3836")},"56d7":function(e,t,r){"use strict";r.r(t),r.d(t,"auth",(function(){return Ke})),r.d(t,"database",(function(){return Ge})),r.d(t,"i18n",(function(){return Qe}));var o=r("7a23"),c=r("5502"),n=r("8857"),a=r("9ca6"),i=r("bc7b"),l=r("1902"),s=r("be8c"),d=r("7c01"),u={install:function(e){e.config.globalProperties.$message=e=>window.M.toast({html:e}),e.config.globalProperties.$error=e=>window.M.toast({html:"Ошибка: "+e,classes:"toast-error"})}},m={mounted(e,{value:t}){window.M.Tooltip.init(e,{html:t,position:"top"})},beforeUnmount(e){const t=window.M.Tooltip.getInstance(e);t&&t.destroy&&t.destroy()}};const p={class:"app-loader"},b=Object(o["createStaticVNode"])('<div class="preloader-wrapper active"><div class="spinner-layer spinner-blue"><div class="circle-clipper left"><div class="circle"></div></div><div class="gap-patch"><div class="circle"></div></div><div class="circle-clipper right"><div class="circle"></div></div></div><div class="spinner-layer spinner-red"><div class="circle-clipper left"><div class="circle"></div></div><div class="gap-patch"><div class="circle"></div></div><div class="circle-clipper right"><div class="circle"></div></div></div><div class="spinner-layer spinner-yellow"><div class="circle-clipper left"><div class="circle"></div></div><div class="gap-patch"><div class="circle"></div></div><div class="circle-clipper right"><div class="circle"></div></div></div><div class="spinner-layer spinner-green"><div class="circle-clipper left"><div class="circle"></div></div><div class="gap-patch"><div class="circle"></div></div><div class="circle-clipper right"><div class="circle"></div></div></div></div>',1),g=[b];function h(e,t){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",p,g)}var y=r("6b0d"),O=r.n(y);const j={},v=O()(j,[["render",h]]);var f=v,w=r("7704"),E=r("edd4");function k(e,t,r,c,n,a){const i=Object(o["resolveComponent"])("router-view");return Object(o["openBlock"])(),Object(o["createBlock"])(Object(o["resolveDynamicComponent"])(a.layout),null,{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(i)]),_:1})}const C={class:"grey darken-1 empty-layout"};function N(e,t,r,c,n,a){const i=Object(o["resolveComponent"])("router-view");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",C,[Object(o["createVNode"])(i)])}var V=r("b444"),x={name:"AuthLayout",computed:{error(){return this.$store.getters.error}},watch:{error(e){console.log(e.code),this.$error(V["a"][e.code]||V["a"].error)}}};const B=O()(x,[["render",N]]);var S=B;const $={key:1,class:"app-main-layout"},D={class:"app-page"},U={class:"fixed-action-btn"},L=Object(o["createElementVNode"])("i",{class:"large material-icons"},"add",-1);function T(e,t,r,c,n,a){const i=Object(o["resolveComponent"])("Loader"),l=Object(o["resolveComponent"])("Navbar"),s=Object(o["resolveComponent"])("Sidebar"),d=Object(o["resolveComponent"])("router-view"),u=Object(o["resolveComponent"])("router-link"),m=Object(o["resolveDirective"])("tooltip");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",null,[e.loading?(Object(o["openBlock"])(),Object(o["createBlock"])(i,{key:0})):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",$,[Object(o["createVNode"])(l,{onOpen:a.open},null,8,["onOpen"]),Object(o["createVNode"])(s,{isOpen:e.isOpen},null,8,["isOpen"]),Object(o["createElementVNode"])("main",{class:Object(o["normalizeClass"])(["app-content",{full:!e.isOpen}])},[Object(o["createElementVNode"])("div",D,[Object(o["createVNode"])(d)])],2),Object(o["createElementVNode"])("div",U,[Object(o["withDirectives"])((Object(o["openBlock"])(),Object(o["createBlock"])(u,{to:"/record",class:"btn-floating btn-large blue"},{default:Object(o["withCtx"])(()=>[L]),_:1})),[[m,e.$t("common.newRecord")]])])]))])}const P={class:"navbar orange lighten-1"},R={class:"nav-wrapper"},A={class:"navbar-left"},I=Object(o["createElementVNode"])("i",{class:"material-icons black-text"},"dehaze",-1),_=[I],M={class:"black-text"},H={class:"right hide-on-small-and-down"},z={class:"dropdown-trigger black-text",href:"#","data-target":"dropdown",ref:"dropdown"},F=Object(o["createElementVNode"])("i",{class:"material-icons right"},"arrow_drop_down",-1),J={id:"dropdown",class:"dropdown-content"},q=Object(o["createElementVNode"])("i",{class:"material-icons"},"account_circle",-1),W=Object(o["createElementVNode"])("li",{class:"divider",tabindex:"-1"},null,-1),K=Object(o["createElementVNode"])("i",{class:"material-icons"},"assignment_return",-1);function G(e,t,r,c,n,a){const i=Object(o["resolveComponent"])("router-link");return Object(o["openBlock"])(),Object(o["createElementBlock"])("nav",P,[Object(o["createElementVNode"])("div",R,[Object(o["createElementVNode"])("div",A,[Object(o["createElementVNode"])("a",{href:"#",onClick:t[0]||(t[0]=t=>e.$emit("open"))},_),Object(o["createElementVNode"])("span",M,Object(o["toDisplayString"])(e.date),1)]),Object(o["createElementVNode"])("ul",H,[Object(o["createElementVNode"])("li",null,[Object(o["createElementVNode"])("a",z,[Object(o["createTextVNode"])(Object(o["toDisplayString"])(a.name)+" ",1),F],512),Object(o["createElementVNode"])("ul",J,[Object(o["createElementVNode"])("li",null,[Object(o["createVNode"])(i,{to:"/profile",class:"black-text"},{default:Object(o["withCtx"])(()=>[q,Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("navbar.dropdown.profile")),1)]),_:1})]),W,Object(o["createElementVNode"])("li",null,[Object(o["createElementVNode"])("a",{href:"#",class:"black-text",onClick:t[1]||(t[1]=Object(o["withModifiers"])((...e)=>a.logout&&a.logout(...e),["prevent"]))},[K,Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("navbar.dropdown.logout")),1)])])])])])])])}r("14d9");var Y=r("c466"),Q={name:"Navbar",data:()=>({date:null,interval:null,dropdown:null}),methods:{async logout(){await this.$store.dispatch("logout"),this.$router.push("/login?message=logout")}},computed:{name(){return this.$store.getters.user.name}},mounted(){this.interval=setInterval(()=>{this.date=Object(Y["a"])(new Date,"datetime",this.$store.getters.user.locale)},1e3),this.dropdown=window.M.Dropdown.init(this.$refs.dropdown,{constrainWidth:!1})},beforeUnmount(){clearInterval(this.interval),this.dropdown&&this.dropdown.destroy&&this.dropdown.destroy()}};const X=O()(Q,[["render",G]]);var Z=X;const ee=["href","onClick"];function te(e,t,r,c,n,a){const i=Object(o["resolveComponent"])("router-link");return Object(o["openBlock"])(),Object(o["createElementBlock"])("ul",{class:Object(o["normalizeClass"])(["sidenav app-sidenav",{open:r.isOpen}])},[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(a.links,e=>(Object(o["openBlock"])(),Object(o["createBlock"])(i,{key:e.to,to:e.to,custom:""},{default:Object(o["withCtx"])(({href:t,navigate:r,isExactActive:c})=>[Object(o["createElementVNode"])("li",{class:Object(o["normalizeClass"])([c&&"active"])},[Object(o["createElementVNode"])("a",{href:t,onClick:r,class:"waves-effect waves-orange pointer"},Object(o["toDisplayString"])(e.title),9,ee)],2)]),_:2},1032,["to"]))),128))],2)}var re={name:"Sidebar",props:{isOpen:Boolean},computed:{links(){return[{title:this.$t("sidebar.bill"),to:"/"},{title:this.$t("sidebar.history"),to:"/history"},{title:this.$t("sidebar.planning"),to:"/planning"},{title:this.$t("sidebar.newRecord"),to:"/record"},{title:this.$t("sidebar.categories"),to:"/categories"}]}}};const oe=O()(re,[["render",te]]);var ce=oe,ne={name:"MainLayout",components:{Navbar:Z,Sidebar:ce},data:()=>({loading:!0,isOpen:!0}),computed:{error(){return this.$store.getters.error}},watch:{error(e){console.log(e.code),this.$error(V["a"][e.code]||V["a"].error)}},async mounted(){Object.keys(this.$store.getters.user).length||await this.$store.dispatch("getUser"),this.loading=!1},methods:{open(){this.isOpen=!this.isOpen}}};const ae=O()(ne,[["render",T]]);var ie=ae,le={name:"App",components:{AuthLayout:S,MainLayout:ie},computed:{layout(){return(this.$route.meta.layout||"auth")+"-layout"}}};r("4c98");const se=O()(le,[["render",k]]);var de=se,ue=r("6605");const me={class:"page-title"},pe={class:"btn waves-effect waves-light btn-small"},be={key:1,class:"row"};function ge(e,t,r,c,n,a){const i=Object(o["resolveComponent"])("Loader"),l=Object(o["resolveComponent"])("BillCurrency"),s=Object(o["resolveComponent"])("CourseCurrency");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",null,[Object(o["createElementVNode"])("div",me,[Object(o["createElementVNode"])("h3",null,Object(o["toDisplayString"])(e.$t("bill.title")),1),Object(o["createElementVNode"])("button",pe,[Object(o["createElementVNode"])("i",{class:"material-icons",onClick:t[0]||(t[0]=(...e)=>a.refresh&&a.refresh(...e))},"refresh")])]),n.loading?(Object(o["openBlock"])(),Object(o["createBlock"])(i,{key:0})):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",be,[Object(o["createVNode"])(l,{rates:n.currency.rub},null,8,["rates"]),Object(o["createVNode"])(s,{rates:n.currency.rub,date:n.currency.date},null,8,["rates","date"])]))])}const he={class:"col s12 m6 l4"},ye={class:"card light-blue bill-card"},Oe={class:"card-content white-text"},je={class:"card-title"};function ve(e,t,r,c,n,a){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",he,[Object(o["createElementVNode"])("div",ye,[Object(o["createElementVNode"])("div",Oe,[Object(o["createElementVNode"])("span",je,Object(o["toDisplayString"])(e.$t("bill.billCurrency")),1),(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(n.currencies,e=>(Object(o["openBlock"])(),Object(o["createElementBlock"])("p",{key:e,class:"currency-line"},[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(a.getCurrency(e)),1)]))),128))])])])}var fe=r("3f9b"),we={props:["rates"],data(){return{currencies:["rub","usd","eur"]}},computed:{base(){return this.$store.getters.user.bill||0}},methods:{getCurrency(e){return Object(fe["a"])(this.base*this.rates[e],e)}}};const Ee=O()(we,[["render",ve]]);var ke=Ee;const Ce={class:"col s12 m6 l8"},Ne={class:"card orange darken-3 bill-card"},Ve={class:"card-content white-text"},xe={class:"card-header"},Be={class:"card-title"};function Se(e,t,r,c,n,a){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Ce,[Object(o["createElementVNode"])("div",Ne,[Object(o["createElementVNode"])("div",Ve,[Object(o["createElementVNode"])("div",xe,[Object(o["createElementVNode"])("span",Be,Object(o["toDisplayString"])(e.$t("bill.courseCurrency.title")),1)]),Object(o["createElementVNode"])("table",null,[Object(o["createElementVNode"])("thead",null,[Object(o["createElementVNode"])("tr",null,[Object(o["createElementVNode"])("th",null,Object(o["toDisplayString"])(e.$t("bill.courseCurrency.currency")),1),Object(o["createElementVNode"])("th",null,Object(o["toDisplayString"])(e.$t("bill.courseCurrency.course")),1),Object(o["createElementVNode"])("th",null,Object(o["toDisplayString"])(e.$t("bill.courseCurrency.date")),1)])]),Object(o["createElementVNode"])("tbody",null,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(n.currencies,e=>(Object(o["openBlock"])(),Object(o["createElementBlock"])("tr",{key:e},[Object(o["createElementVNode"])("td",null,Object(o["toDisplayString"])(e.toUpperCase()),1),Object(o["createElementVNode"])("td",null,Object(o["toDisplayString"])(r.rates[e].toFixed(5)),1),Object(o["createElementVNode"])("td",null,Object(o["toDisplayString"])(a.getDate(r.date)),1)]))),128))])])])])])}var $e={props:["rates","date"],data(){return{currencies:["rub","usd","eur"]}},computed:{locale(){return this.$store.getters.user.locale}},methods:{getDate(e){return Object(Y["a"])(e,"dateshort",this.locale,{month:"numeric"})}}};const De=O()($e,[["render",Se]]);var Ue=De,Le={name:"Home",components:{BillCurrency:ke,CourseCurrency:Ue},data(){return{loading:!0,currency:null}},mounted(){this.getCurrency()},methods:{async getCurrency(){this.currency=await this.$store.dispatch("getCurrency"),this.loading=!1},refresh(){this.loading=!0,setTimeout(async()=>{this.getCurrency()},1e3)}}};const Te=O()(Le,[["render",ge]]);var Pe=Te;const Re=[{path:"/",name:"Home",meta:{layout:"main",auth:!0},component:Pe},{path:"/login",name:"login",meta:{layout:"auth"},component:()=>Promise.all([r.e("categories~login~profile~record~register"),r.e("login")]).then(r.bind(null,"a55b"))},{path:"/register",name:"register",meta:{layout:"auth"},component:()=>Promise.all([r.e("categories~login~profile~record~register"),r.e("register")]).then(r.bind(null,"73cf"))},{path:"/categories",name:"categories",meta:{layout:"main",auth:!0},component:()=>Promise.all([r.e("categories~login~profile~record~register"),r.e("categories")]).then(r.bind(null,"58c2"))},{path:"/history",name:"history",meta:{layout:"main",auth:!0},component:()=>r.e("history").then(r.bind(null,"e4bb"))},{path:"/detail/:id",name:"detail",meta:{layout:"main",auth:!0},component:()=>r.e("history").then(r.bind(null,"c84b"))},{path:"/planning",name:"planning",meta:{layout:"main",auth:!0},component:()=>r.e("planning").then(r.bind(null,"6859"))},{path:"/profile",name:"profile",meta:{layout:"main",auth:!0},component:()=>Promise.all([r.e("categories~login~profile~record~register"),r.e("profile")]).then(r.bind(null,"c66d"))},{path:"/record",name:"record",meta:{layout:"main",auth:!0},component:()=>Promise.all([r.e("categories~login~profile~record~register"),r.e("record")]).then(r.bind(null,"43ef"))},{path:"/:pathMatch(.*)*",name:"not-found",meta:{layout:"main",auth:!0},component:()=>Promise.all([r.e("categories~login~profile~record~register"),r.e("record")]).then(r.bind(null,"9703"))}],Ae=Object(ue["a"])({history:Object(ue["b"])("/crm-system/"),routes:Re});Ae.beforeEach((e,t,r)=>{const o=Ke.currentUser,c=e.matched.some(e=>e.meta.auth);c&&!o?r("/login?message=login"):r()});var Ie=Ae,_e=(r("d9e2"),{actions:{async register({dispatch:e,commit:t},r){const{email:o,password:c,name:n}=r;try{await Object(s["a"])(Ke,o,c,n);const t=await e("getUid");await e("writeUserData",{uid:t,name:n,email:o})}catch(a){throw t("setError",a),new Error(a)}},async login({commit:e},{email:t,password:r}){try{const e=await Object(s["d"])(Ke,t,r);console.log(e)}catch(o){throw e("setError",o),new Error(o)}},async logout({commit:e}){await Object(s["e"])(Ke),e("clearUser")}}}),Me={state:{user:{}},mutations:{setUser(e,t){e.user=t},clearUser(e){e.user={}}},actions:{getUid(){const e=Ke.currentUser;return e?e.uid:null},async writeUserData({commit:e},{uid:t,name:r,email:o}){try{Object(d["e"])(Object(d["d"])(Ge,"users/"+t+"/info"),{id:t,bill:0,name:r,email:o,locale:"ru-Ru"})}catch(c){throw e("setError",c),new Error(c)}},async getUser({dispatch:e,commit:t}){const r=await e("getUid"),o=Object(d["d"])(Ge);try{const e=await Object(d["b"])(Object(d["a"])(o,`users/${r}/info`));e.exists()&&(t("setUser",e.val()),localStorage.setItem("crm-locale",e.val().locale))}catch(c){throw t("setError",c),new Error(c)}},async updateUser({dispatch:e,commit:t,getters:r},o){try{const c=await e("getUid"),n=Object(d["c"])(),a={...r.user,...o};Object(d["e"])(Object(d["d"])(n,`users/${c}/info`),a),t("setUser",a),null!==o&&void 0!==o&&o.locale&&(Qe.locale=o.locale,localStorage.setItem("crm-locale",o.locale))}catch(c){throw t("setError",c),new Error(c)}}},getters:{user:e=>e.user}},He=r("ec26"),ze={actions:{async getCategories({dispatch:e,commit:t}){const r=await e("getUid"),o=Object(d["d"])(Ge);try{const e=await Object(d["b"])(Object(d["a"])(o,`users/${r}/categories`));if(e.exists())return Object.keys(e.val()).map(t=>({...e.val()[t],id:t}))}catch(c){throw t("setError",c),new Error(c)}},async getCategoryById({dispatch:e,commit:t},r){const o=await e("getUid"),c=Object(d["d"])(Ge);try{const e=await Object(d["b"])(Object(d["a"])(c,`users/${o}/categories/${r}`));if(e.exists())return{...e.val(),id:r}}catch(n){throw t("setError",n),new Error(n)}},async addCategory({dispatch:e,commit:t},{title:r,limit:o}){try{const t=await e("getUid"),c=Object(He["a"])();return Object(d["e"])(Object(d["d"])(Ge,`users/${t}/categories/${c}`),{title:r,limit:o}),{id:c,title:r,limit:o}}catch(c){throw t("setError",c),new Error(c)}},async editCategory({dispatch:e,commit:t},{id:r,title:o,limit:c}){try{const t=await e("getUid"),n=Object(d["c"])();Object(d["e"])(Object(d["d"])(n,`users/${t}/categories/${r}`),{title:o,limit:c})}catch(n){throw t("setError",n),new Error(n)}}}},Fe={actions:{async getRecords({dispatch:e,commit:t}){const r=await e("getUid"),o=Object(d["d"])(Ge);try{const e=await Object(d["b"])(Object(d["a"])(o,`users/${r}/records`));if(e.exists())return Object.keys(e.val()).map(t=>({...e.val()[t],id:t}))}catch(c){throw t("setError",c),new Error(c)}},async getRecordById({dispatch:e,commit:t},r){const o=await e("getUid"),c=Object(d["d"])(Ge);try{const e=await Object(d["b"])(Object(d["a"])(c,`users/${o}/records/${r}`));if(e.exists())return{...e.val(),id:r}}catch(n){throw t("setError",n),new Error(n)}},async addRecord({dispatch:e,commit:t},r){try{const t=await e("getUid"),o=Object(He["a"])();await Object(d["e"])(Object(d["d"])(Ge,`users/${t}/records/${o}`),{...r})}catch(o){throw t("setError",o),new Error(o)}}}},Je={namespaced:!0,state:{error:null},getters:{error:e=>e.error},mutations:{setError(e,t){e.error=t},clearError(e){e.error=null}},actions:{async getCurrency(){const e=await fetch("https://raw.githubusercontent.com/fawazahmed0/currency-api/1/latest/currencies/rub.json");return await e.json()}},modules:{auth:_e,user:Me,category:ze,record:Fe}};r("6885");const qe={apiKey:"AIzaSyCrp3hbVk6l-WHuqnUDkuSgLAquxfdgJR8",authDomain:"crm-system-vue-13357.firebaseapp.com",projectId:"crm-system-vue-13357",storageBucket:"crm-system-vue-13357.appspot.com",messagingSenderId:"3017233156",appId:"1:3017233156:web:b9f9052964994f5a70b651",measurementId:"G-P49HEDYJ80"},We=Object(i["a"])(qe);Object(l["a"])(We);const Ke=Object(s["b"])(),Ge=Object(d["c"])();let Ye;const Qe=Object(a["a"])({locale:localStorage.getItem("crm-locale")||"ru-RU",messages:{"ru-RU":w,"en-US":E}});Object(s["c"])(Ke,()=>{Ye||(Ye=Object(o["createApp"])(de),Ye.directive("tooltip",m),Ye.use(u),Ye.use(Ie),Ye.use(Qe),Ye.component("Loader",f),Ye.component("Paginate",n["a"]),Ye.use(Object(c["a"])(Je)),Ye.mount("#app"))})},7704:function(e){e.exports=JSON.parse('{"common":{"404":"404 Страница не найдена","newRecord":"Создать новую запись","back":"Назад","next":"Вперед","noCategories":"Категорий пока нет","addCategory":"Добавить новую категорию","noRecords":"Записей пока нет","addRecord":"Добавить запись","income":"Доход","outcome":"Расход"},"profile":{"title":"Профиль","label":"Имя","btnText":"Обновить"},"navbar":{"dropdown":{"profile":"Профиль","logout":"Выйти"}},"sidebar":{"bill":"Счет","history":"История","planning":"Планирование","newRecord":"Новая запись","categories":"Категории"},"bill":{"title":"Счет","billCurrency":"Счет в валюте","courseCurrency":{"title":"Курс валют","currency":"Валюта","course":"Курс","date":"Дата"}},"history":{"title":"История записей","chartLabel":"Расходы по категориям","table":{"amount":"Сумма","date":"Дата","category":"Категория","type":"Тип","open":"Открыть","watchRecord":"Посмотреть запись"}},"planning":{"title":"Планирование","out":"из","tooltipText":{"excess":"Превышение на","left":"Осталось"}},"newRecord":{"title":"Новая запись","categoryLabel":"Выберите категорию","amount":"Сумма","description":"Описание","btnText":"Создать"},"categories":{"title":"Категории","addCategory":{"title":"Создать","name":"Название","limit":"Лимит","btnText":"Создать"},"editCategory":{"title":"Редактировать","categoryLabel":"Выберите категорию","name":"Название","limit":"Лимит","btnText":"Обновить"}},"login":{"title":"Домашняя бухгалтерия","email":"Email","password":"Пароль","btnText":"Войти","noAccount":"Нет аккаунта?","register":"Зарегистрироваться"},"register":{"title":"Домашняя бухгалтерия","email":"Email","password":"Пароль","name":"Имя","agree":"С правилами согласен","btnText":"Зарегистрироваться","haveAccount":"Уже есть аккаунт?","login":"Войти!"},"detail":{"error":"Такой записи нет :(","breadcrumb":{"history":"История"},"description":"Описание: ","amount":"Сумма: ","category":"Категория: "}}')},b444:function(e,t,r){"use strict";t["a"]={error:"Что-то пошло не так",login:"Войдите в систему",logout:"Вы вышли из системы",profileUpdate:"Профиль успешно обновлен","auth/invalid-credential":"Логин или пароль введены неверно","auth/email-already-in-use":"Пользователь уже существует","add-category":"Категория успешно добавлена","edit-category":"Категория успешно обновлена","add-record":"Запись успешно добавлена"}},c466:function(e,t,r){"use strict";function o(e,t="date",r="ru-RU",o,c){let n="";return t.includes("datedot")?n=new Date(e).toLocaleDateString(r,{day:"numeric",month:"numeric",year:"numeric",...o}):t.includes("dateshort")?n=new Date(e).toLocaleDateString(r,{day:"numeric",month:"long",year:"numeric",...o}):t.includes("date")&&(n=new Date(e).toLocaleDateString(r,{weekday:"short",day:"numeric",month:"long",year:"numeric",...o})),t.includes("time")&&(n+=" "+new Date(e).toLocaleTimeString(r,{hour:"numeric",minute:"numeric",second:"numeric",...c})),n}r.d(t,"a",(function(){return o}))},edd4:function(e){e.exports=JSON.parse('{"common":{"404":"404 Page not found","newRecord":"Create a new record","back":"Back","next":"Next","noCategories":"No categories yet","addCategory":"Add a new category","noRecords":"No records yet","addRecord":"Add a record","income":"Income","outcome":"Outcome"},"profile":{"title":"Profile","label":"Name","btnText":"Update"},"navbar":{"dropdown":{"profile":"Profile","logout":"Logout"}},"sidebar":{"bill":"Bill","history":"History","planning":"Planning","newRecord":"New record","categories":"Categories"},"bill":{"title":"Bill","billCurrency":"Bill in currencies","courseCurrency":{"title":"Currencies rates","currency":"Currency","course":"Rate","date":"Date"}},"history":{"title":"Record history","chartLabel":"Expenses by category","table":{"amount":"Amount","date":"Date","category":"Category","type":"Type","open":"Open","watchRecord":"Watch Record","income":"Income","outcome":"Outcome"}},"planning":{"title":"Planning","out":"of","tooltipText":{"excess":"Excess on","left":"Left"}},"newRecord":{"title":"New record","categoryLabel":"Select a category","amount":"Amount","description":"Description","btnText":"Create"},"categories":{"title":"Categories","addCategory":{"title":"Create","name":"Name","limit":"Limit","btnText":"Create"},"editCategory":{"title":"Edit","categoryLabel":"Select a category","name":"Name","limit":"Limit","btnText":"Update"}},"login":{"title":"Home accounting","email":"Email","password":"Password","btnText":"Sign in","noAccount":"Don\'t have an account?","register":"Sign up"},"register":{"title":"Home accounting","email":"Email","password":"Password","name":"Name","agree":"I agree with the rules","btnText":"Sign up","haveAccount":"Already have an account?","login":"Sign in!"},"detail":{"error":"There is no such record :(","breadcrumb":{"history":"History"},"description":"Description: ","amount":"Amount: ","category":"Category: "}}')}});
//# sourceMappingURL=app.ee972b2d.js.map